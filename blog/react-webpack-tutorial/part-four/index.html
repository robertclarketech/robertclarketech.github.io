<!DOCTYPE html>
<html lang="en">

<head>
	

		
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="apple-touch-icon" sizes="180x180" href="https:&#x2F;&#x2F;www.robertclarke.tech&#x2F;apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="32x32" href="https:&#x2F;&#x2F;www.robertclarke.tech&#x2F;favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="https:&#x2F;&#x2F;www.robertclarke.tech&#x2F;favicon-16x16.png" />
<link rel="manifest" href="https:&#x2F;&#x2F;www.robertclarke.tech&#x2F;site.webmanifest" />
<link rel="stylesheet" media="(prefers-color-scheme: dark)" href="https:&#x2F;&#x2F;www.robertclarke.tech&#x2F;site-dark.css" />
<link rel="stylesheet" media="screen and (prefers-color-scheme: no-preference), (prefers-color-scheme: light)"
	href="https:&#x2F;&#x2F;www.robertclarke.tech&#x2F;site-light.css" />
<noscript>
	<link rel="stylesheet" href="https:&#x2F;&#x2F;www.robertclarke.tech&#x2F;noscript.css" />
</noscript>

		<title>React And Webpack Tutorial - Part 4 - Robert Clarke&#x27;s Blog</title>
		<meta name="description" content="A React and Webpack tutorial, starting from the very bottom." />
		<meta name="author" content="Robert Clarke" />
	

<link rel="alternate" type="application/rss+xml" title="RSS" href="https://www.robertclarke.tech/rss.xml">


<script defer type="text/javascript" src="https:&#x2F;&#x2F;www.robertclarke.tech&#x2F;elasticlunr.min.js"></script>
<script defer type="text/javascript" src="https:&#x2F;&#x2F;www.robertclarke.tech&#x2F;search_index.en.js"></script>


</head>

<body>
	<div class="body">
		
<!-- Navigation bar -->
<nav class="navbar is-primary is-fixed-top">
	<div class="navbar-brand">
		

<a class="navbar-item" href="https:&#x2F;&#x2F;www.robertclarke.tech&#x2F;blog">
    <span aria-hidden="true" class="icon">
        <i class="icon-blog"></i>
    </span>
    <span>Home</span>
</a>


		<div class="navbar-burger burger" data-target="nav-menu">
			<span></span>
			<span></span>
			<span></span>
		</div>
	</div>
	<div id="nav-menu" class="navbar-menu">
		
<div class="navbar-start">
	<a class="navbar-item" href="https:&#x2F;&#x2F;www.robertclarke.tech">
		<span aria-hidden="true" class="icon">
			<i class="icon-info"></i>
		</span>
		<span>About Me</span>
	</a>
</div>

		
<div class="navbar-end">
	
	
	
	
	<a itemprop="url" class="navbar-item "
		href="https:&#x2F;&#x2F;www.robertclarke.tech&#x2F;categories">
		<span itemprop="name">Categories
		</span>
	</a>
	
	
	
	<a itemprop="url" class="navbar-item "
		href="https:&#x2F;&#x2F;www.robertclarke.tech&#x2F;tags">
		<span itemprop="name">Tags
		</span>
	</a>
	
	
	
	<div class="navbar-item search-container js-only">
		<input class="input" id="search" type="search" placeholder="Search">
		<div class="search-results box">
			<div class="search-results__items"></div>
		</div>
	</div>
	
</div>

	</div>
</nav>


<main class="pad-nav">
    <section class="section">
        <div class="columns is-desktop">
            <div class="column is-10-desktop is-offset-1-desktop">
                <article itemscope itemtype="http://schema.org/BlogPosting">
                    <div class="card article">
                        <div class="card-content">
                            
<header>
    <div class="has-text-centered">
        <a href="https://www.robertclarke.tech/blog/react-webpack-tutorial/part-four/">
            <h4 class="title is-3">React And Webpack Tutorial - Part 4
            </h4>
        </a>
        <div class="tags has-addons level-item">
            <span class="tag is-rounded">2019-10-24</span>
                       
            <span class="tag is-rounded">
<svg class="i-clock" viewBox="0 0 32 32" width="16" height="16" fill="none" stroke="currentcolor" stroke-linecap="round"
    stroke-linejoin="round" stroke-width="6.25%">
    <circle cx="16" cy="16" r="14" />
    <path d="M16 8 L16 16 20 20" />
</svg>
<span>&nbsp;9 minute read</span>
</span>
        </div>
    </div>
</header>

                            <div itemprop="articleBody" class="content article-body">
                                <h1 id="previous">Previous</h1>
<ul>
<li><a href="https://www.robertclarke.tech/blog/react-webpack-tutorial/part-one/">Part 1</a></li>
<li><a href="https://www.robertclarke.tech/blog/react-webpack-tutorial/part-two/">Part 2</a></li>
<li><a href="https://www.robertclarke.tech/blog/react-webpack-tutorial/part-three/">Part 3</a></li>
</ul>
<p>You can find the full repository and all previous commits by <a href="https://gitlab.com/Worble/react-webpack-tutorial">clicking here</a>.</p>
<p>Last time we had finished making ourselves a swanky development setup, with a live refreshing server, source maps, and even hot reloading. We're now ready to do some actual developing! But wait, we're still writing in plain old JavaScript. Sure, it might have some fancy new ES2015+ features, but it's still untyped! That just won't do, so today we're going to work on adding TypeScript support to our project.</p>
<span id="continue-reading"></span>
<h1 id="typescript-support">TypeScript support</h1>
<h2 id="updating-files">Updating Files</h2>
<p>So like everything else, adding TypeScript support is going to involve installing the compiler, a loader for Webpack, and hooking it all up. For starters however, let's just convert our existing code to TypeScript.</p>
<p>First, let's change our file types. <code>./src/index.jsx</code> will become <code>./src/index.tsx</code>, and <code>./src/myComponent.jsx</code> will become <code>./src/myComponent.tsx</code>.</p>
<p>Next, let's download the types packages for React so TypeScript knows exactly what types the packages export and so we can get proper IDE support:</p>
<pre style="background-color:#0f1419;">
<span style="color:#bfbab0;">&gt;yarn add --dev @types/react @types/react-dom</span><span style="color:#bfbab0;">
</span></pre>
<p>Now we need to fix up the files. <code>index.tsx</code> will need some small modifications to the imports:</p>
<pre style="background-color:#0f1419;">
<span style="color:#ff7733;">import </span><span style="color:#f29718;">* </span><span style="color:#ff7733;">as </span><span style="color:#bfbab0;">React </span><span style="color:#ff7733;">from </span><span style="color:#c2d94c;">&quot;react&quot;</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span><span style="color:#ff7733;">import </span><span style="color:#f29718;">* </span><span style="color:#ff7733;">as </span><span style="color:#bfbab0;">ReactDOM </span><span style="color:#ff7733;">from </span><span style="color:#c2d94c;">&quot;react-dom&quot;</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span><span style="color:#ff7733;">import </span><span style="color:#bfbab0;">MyComponent </span><span style="color:#ff7733;">from </span><span style="color:#c2d94c;">&quot;./myComponent&quot;</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span><span style="color:#bfbab0;">
ReactDOM</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">render</span><span style="color:#bfbab0;">(</span><span style="color:#39bae690;">&lt;</span><span style="font-style:italic;color:#39bae6;">MyComponent </span><span style="color:#39bae690;">/&gt;</span><span style="color:#bfbab0cc;">, </span><span style="color:#bfbab0;">document</span><span style="color:#f29668;">.</span><span style="color:#f07178;">getElementById</span><span style="color:#bfbab0;">(</span><span style="color:#c2d94c;">&quot;root&quot;</span><span style="color:#bfbab0;">))</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span></pre>
<p>as will <code>myComponent.tsx</code>, along with an extra interface:</p>
<pre style="background-color:#0f1419;">
<span style="color:#ff7733;">import </span><span style="color:#f29718;">* </span><span style="color:#ff7733;">as </span><span style="color:#bfbab0;">React </span><span style="color:#ff7733;">from </span><span style="color:#c2d94c;">&quot;react&quot;</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span><span style="color:#ff7733;">import </span><span style="color:#bfbab0;">{ hot } </span><span style="color:#ff7733;">from </span><span style="color:#c2d94c;">&quot;react-hot-loader&quot;</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span><span style="color:#bfbab0;">
</span><span style="color:#ff7733;">interface </span><span style="color:#59c2ff;">IMyComponentState </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
  name</span><span style="color:#f29668;">: </span><span style="font-style:italic;color:#39bae6;">string</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
}</span><span style="color:#bfbab0;">
</span><span style="color:#bfbab0;">
</span><span style="color:#ff7733;">class </span><span style="color:#59c2ff;">MyComponent </span><span style="color:#ff7733;">extends </span><span style="color:#59c2ff;">React</span><span style="color:#f29668;">.</span><span style="text-decoration:underline;color:#59c2ff;">Component</span><span style="color:#bfbab0;">&lt;{}</span><span style="color:#bfbab0cc;">, </span><span style="color:#59c2ff;">IMyComponentState</span><span style="color:#bfbab0;">&gt; {</span><span style="color:#bfbab0;">
  </span><span style="color:#ff7733;">constructor</span><span style="color:#bfbab0;">(</span><span style="color:#f29718;">props</span><span style="color:#f29668;">: </span><span style="color:#bfbab0;">{}) {</span><span style="color:#bfbab0;">
    </span><span style="font-style:italic;color:#39bae6;">super</span><span style="color:#bfbab0;">(props)</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
    </span><span style="font-style:italic;color:#39bae6;">this</span><span style="color:#f29668;">.</span><span style="color:#bfbab0;">state </span><span style="color:#f29668;">= </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
      name</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;&quot;</span><span style="color:#bfbab0;">
    }</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
  }</span><span style="color:#bfbab0;">
  </span><span style="color:#ffb454;">render</span><span style="color:#bfbab0;">() {</span><span style="color:#bfbab0;">
    </span><span style="color:#ff7733;">return </span><span style="color:#bfbab0;">(</span><span style="color:#bfbab0;">
      </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">div</span><span style="color:#39bae690;">&gt;</span><span style="color:#bfbab0;">
        </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">div</span><span style="color:#39bae690;">&gt;</span><span style="color:#bfbab0;">
          </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">label</span><span style="color:#39bae690;">&gt;</span><span style="color:#bfbab0;">
            Name:</span><span style="color:#bfbab0;">
            &lt;input</span><span style="color:#bfbab0;">
              onChange={</span><span style="color:#f29718;">event </span><span style="color:#ff7733;">=&gt; </span><span style="font-style:italic;color:#39bae6;">this</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">setState</span><span style="color:#bfbab0;">({ name</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">event</span><span style="color:#f29668;">.</span><span style="color:#bfbab0;">target</span><span style="color:#f29668;">.</span><span style="color:#bfbab0;">value })}</span><span style="color:#bfbab0;">
            &gt;</span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">input</span><span style="color:#39bae690;">&gt;</span><span style="color:#bfbab0;">
          </span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">label</span><span style="color:#39bae690;">&gt;</span><span style="color:#bfbab0;">
        </span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">div</span><span style="color:#39bae690;">&gt;</span><span style="color:#bfbab0;">
        </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">div</span><span style="color:#39bae690;">&gt;</span><span style="color:#bfbab0;">Hello {</span><span style="font-style:italic;color:#39bae6;">this</span><span style="color:#f29668;">.</span><span style="color:#bfbab0;">state</span><span style="color:#f29668;">.</span><span style="color:#bfbab0;">name}!</span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">div</span><span style="color:#39bae690;">&gt;</span><span style="color:#bfbab0;">
      </span><span style="color:#f29668;">&lt;/</span><span style="color:#bfbab0;">div</span><span style="color:#f29668;">&gt;</span><span style="color:#bfbab0;">
    )</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
  }</span><span style="color:#bfbab0;">
}</span><span style="color:#bfbab0;">
</span><span style="color:#bfbab0;">
</span><span style="color:#ff7733;">export default </span><span style="color:#ffb454;">hot</span><span style="color:#bfbab0;">(</span><span style="font-style:italic;color:#39bae6;">module</span><span style="color:#bfbab0;">)(MyComponent)</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span></pre>
<p>I won't go into detail about what's happening here, TypeScript and React is a tutorial for a different day, but simply put, we now need an interface to describe our component state, and the way we import certains libs is different.</p>
<h2 id="webpack-setup">Webpack Setup</h2>
<p>Now we're done making our files TypeScript compatible, let's actually get Webpack ready to compile them. We're going to use the <code>awesome-typescript-loader</code>, along with TypeScript itself:</p>
<pre style="background-color:#0f1419;">
<span style="color:#bfbab0;">&gt;yarn add --dev typescript awesome-typescript-loader</span><span style="color:#bfbab0;">
</span></pre>
<p>Note that there is a <code>ts-loader</code>, which <em>kind of</em> works, however <code>awesome-ts-loader</code> seems to work much better with Babel and <code>react-hot-loader</code>, so we're going with that.</p>
<p>And let's create a <code>tsconfig.json</code> in our root repository. The example here I'm giving is just my config file, there are many options here you can tweak to your liking.</p>
<pre style="background-color:#0f1419;">
<span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
  </span><span style="color:#39bae6;">&quot;compilerOptions&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
    </span><span style="color:#39bae6;">&quot;jsx&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;preserve&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    </span><span style="color:#39bae6;">&quot;allowSyntheticDefaultImports&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    </span><span style="color:#39bae6;">&quot;lib&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">[</span><span style="color:#c2d94c;">&quot;dom&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;es2015&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;es2016&quot;</span><span style="color:#bfbab0;">]</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    </span><span style="color:#39bae6;">&quot;target&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;es2016&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    </span><span style="color:#39bae6;">&quot;module&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;es2015&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    </span><span style="color:#39bae6;">&quot;moduleResolution&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;node&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    </span><span style="color:#39bae6;">&quot;noImplicitAny&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    </span><span style="color:#39bae6;">&quot;noUnusedLocals&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    </span><span style="color:#39bae6;">&quot;noUnusedParameters&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    </span><span style="color:#39bae6;">&quot;removeComments&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">false</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    </span><span style="color:#39bae6;">&quot;preserveConstEnums&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    </span><span style="color:#39bae6;">&quot;sourceMap&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    </span><span style="color:#39bae6;">&quot;skipLibCheck&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0;">
  }</span><span style="color:#bfbab0;">
}</span><span style="color:#bfbab0;">
</span></pre>
<p>What's really important here is that <code>&quot;jsx&quot;</code> is set to <code>&quot;preserve&quot;</code>; this means typescript won't change our code, and will instead let babel do that stage of the compilation for us. You might ask why we're using babel if we don't have to? Why not let TypeScript do all that work for us? Afterall, adding another compilation step is only going to make our build times longer. Well, unfortunately for us, <code>react-hot-loader</code> <em>requires</em> that code goes through babel first, so unfortunately we're stuck with this for now. If you don't find hot reloading to be a deal breaker for you, you could remove babel from the project, and tweak your <code>tsconfig.json</code> accordingly.</p>
<p>Anyway, let's hook this all up into webpack. We're going to add a new object to rules describing <code>.tsx</code>, as well as update our entrypoint name:</p>
<pre style="background-color:#0f1419;">
<span style="font-style:italic;color:#39bae6;">module</span><span style="font-style:italic;color:#f29668;">.</span><span style="font-style:italic;color:#39bae6;">exports </span><span style="color:#f29668;">= </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
  module</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
    entry</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">[</span><span style="color:#bfbab0;">
      </span><span style="color:#c2d94c;">&quot;react-hot-loader/patch&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
      path</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">resolve</span><span style="color:#bfbab0;">(</span><span style="font-style:italic;color:#39bae6;">__dirname</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;src&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;index.tsx&quot;</span><span style="color:#bfbab0;">)</span><span style="color:#bfbab0;">
    ]</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    </span><span style="font-style:italic;color:#5c6773;">//...</span><span style="font-style:italic;color:#5c6773;">
    </span><span style="color:#bfbab0;">rules</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">[</span><span style="color:#bfbab0;">
      </span><span style="font-style:italic;color:#5c6773;">//...</span><span style="font-style:italic;color:#5c6773;">
      </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
        test</span><span style="color:#bfbab0cc;">: </span><span style="color:#95e6cb;">/\.ts(x</span><span style="color:#f29668;">?</span><span style="color:#95e6cb;">)</span><span style="color:#ff7733;">$</span><span style="color:#95e6cb;">/</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
        exclude</span><span style="color:#bfbab0cc;">: </span><span style="color:#95e6cb;">/node_modules/</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
        use</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">[</span><span style="color:#bfbab0;">
          {</span><span style="color:#bfbab0;">
            loader</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;awesome-typescript-loader&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
            options</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
              useBabel</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
              babelCore</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;@babel/core&quot;</span><span style="color:#bfbab0;">
            }</span><span style="color:#bfbab0;">
          }</span><span style="color:#bfbab0;">
        ]</span><span style="color:#bfbab0;">
      }</span><span style="color:#bfbab0;">
    ]</span><span style="color:#bfbab0;">
  }</span><span style="color:#bfbab0;">
}</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span></pre>
<p>What we're telling Webpack to do here, which hopefully you can understand by now, is that for all files with a <code>.ts(x)</code> extension, run it through our <code>awesome-typescript-loader</code> (which will automatically pick up our <code>tsconfig.json</code>), and we've also the setup our loader to use babel (the <code>babelCore: &quot;@babel/core&quot;</code> is required for Babel7), which as explained earlier is required for <code>react-hot-loader</code>. Again, you can see the full options you can give to <code>awesome-typescript-loader</code> at it's <a href="https://github.com/s-panferov/awesome-typescript-loader#typescript-loader-for-webpack">relevant documentation page</a></p>
<p>Alright, let's give it a whirl:</p>
<pre style="background-color:#0f1419;">
<span style="color:#bfbab0;">yarn serve</span><span style="color:#bfbab0;">
</span></pre>
<p>And... you'll probably see this error in your console:</p>
<pre style="background-color:#0f1419;">
<span style="color:#bfbab0;">ERROR in ./src/index.tsx</span><span style="color:#bfbab0;">
Module not found: Error: Can&#39;t resolve &#39;./myComponent&#39; in &#39;&lt;folder&gt;\src&#39;</span><span style="color:#bfbab0;">
 @ ./src/index.tsx 7:0-40 8:36-47</span><span style="color:#bfbab0;">
 @ multi react-hot-loader/patch ./src/index.tsx</span><span style="color:#bfbab0;">
</span></pre>
<p>So you'll notice way back when we changed the imports to <code>./src/index.tsx</code>, we changed the way we import our component: <code>import MyComponent from &quot;./myComponent&quot;;</code>. This unfortunately has confused Webpack a little bit, since by default the the only extensions it looks for are <code>.js</code> files, if you don't provide one in the import. So, in order to tell Webpack what files it should be looking for, we'll add another property to our <code>resolve</code> property:</p>
<pre style="background-color:#0f1419;">
<span style="font-style:italic;color:#39bae6;">module</span><span style="font-style:italic;color:#f29668;">.</span><span style="font-style:italic;color:#39bae6;">exports </span><span style="color:#f29668;">= </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
  </span><span style="font-style:italic;color:#5c6773;">//...</span><span style="font-style:italic;color:#5c6773;">
  </span><span style="color:#bfbab0;">resolve</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
    alias</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
      </span><span style="color:#c2d94c;">&quot;react-dom&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;@hot-loader/react-dom&quot;</span><span style="color:#bfbab0;">
    }</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    extensions</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">[</span><span style="color:#c2d94c;">&quot;.tsx&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.jsx&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.ts&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.js&quot;</span><span style="color:#bfbab0;">]</span><span style="color:#bfbab0;">
  }</span><span style="color:#bfbab0;">
  </span><span style="font-style:italic;color:#5c6773;">//...</span><span style="font-style:italic;color:#5c6773;">
</span><span style="color:#bfbab0;">}</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span></pre>
<p>This tells Webpack &quot;Hey, if you see an import without an extension, look for these filetypes&quot;. Note that if there are multiple files with the same name, Webpack will resolve the one with the extension listed first in the array and skip the rest. <a href="https://webpack.js.org/configuration/resolve/#resolveextensions">See the relevant documentation here</a>.</p>
<p>For reference, here is our full webpack config after adding TypeScript support:</p>
<pre style="background-color:#0f1419;">
<span style="color:#ff7733;">const </span><span style="color:#bfbab0;">path </span><span style="color:#f29668;">= </span><span style="color:#ffb454;">require</span><span style="color:#bfbab0;">(</span><span style="color:#c2d94c;">&quot;path&quot;</span><span style="color:#bfbab0;">)</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span><span style="color:#bfbab0;">
</span><span style="font-style:italic;color:#39bae6;">module</span><span style="font-style:italic;color:#f29668;">.</span><span style="font-style:italic;color:#39bae6;">exports </span><span style="color:#f29668;">= </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
  mode</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;development&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
  entry</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">[</span><span style="color:#bfbab0;">
    </span><span style="color:#c2d94c;">&quot;react-hot-loader/patch&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    path</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">resolve</span><span style="color:#bfbab0;">(</span><span style="font-style:italic;color:#39bae6;">__dirname</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;src&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;index.tsx&quot;</span><span style="color:#bfbab0;">)</span><span style="color:#bfbab0;">
  ]</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
  devtool</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;eval-source-map&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
  output</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
    filename</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;main.js&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    path</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">path</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">join</span><span style="color:#bfbab0;">(</span><span style="font-style:italic;color:#39bae6;">__dirname</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;dist&quot;</span><span style="color:#bfbab0;">)</span><span style="color:#bfbab0;">
  }</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
  resolve</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
    alias</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
      </span><span style="color:#c2d94c;">&quot;react-dom&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;@hot-loader/react-dom&quot;</span><span style="color:#bfbab0;">
    }</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    extensions</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">[</span><span style="color:#c2d94c;">&quot;.tsx&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.jsx&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.ts&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.js&quot;</span><span style="color:#bfbab0;">]</span><span style="color:#bfbab0;">
  }</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
  devServer</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
    hot</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    contentBase</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">path</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">join</span><span style="color:#bfbab0;">(</span><span style="font-style:italic;color:#39bae6;">__dirname</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;dist&quot;</span><span style="color:#bfbab0;">)</span><span style="color:#bfbab0;">
  }</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
  module</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
    rules</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">[</span><span style="color:#bfbab0;">
      {</span><span style="color:#bfbab0;">
        test</span><span style="color:#bfbab0cc;">: </span><span style="color:#95e6cb;">/\.js(x</span><span style="color:#f29668;">?</span><span style="color:#95e6cb;">)</span><span style="color:#ff7733;">$</span><span style="color:#95e6cb;">/</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
        exclude</span><span style="color:#bfbab0cc;">: </span><span style="color:#95e6cb;">/node_modules/</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
        use</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">[</span><span style="color:#bfbab0;">
          {</span><span style="color:#bfbab0;">
            loader</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;babel-loader&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
            options</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
              cacheDirectory</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0;">
            }</span><span style="color:#bfbab0;">
          }</span><span style="color:#bfbab0;">
        ]</span><span style="color:#bfbab0;">
      }</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
      {</span><span style="color:#bfbab0;">
        test</span><span style="color:#bfbab0cc;">: </span><span style="color:#95e6cb;">/\.ts(x</span><span style="color:#f29668;">?</span><span style="color:#95e6cb;">)</span><span style="color:#ff7733;">$</span><span style="color:#95e6cb;">/</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
        exclude</span><span style="color:#bfbab0cc;">: </span><span style="color:#95e6cb;">/node_modules/</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
        use</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">[</span><span style="color:#bfbab0;">
          {</span><span style="color:#bfbab0;">
            loader</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;babel-loader&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
            options</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
              cacheDirectory</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0;">
            }</span><span style="color:#bfbab0;">
          }</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
          {</span><span style="color:#bfbab0;">
            loader</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;ts-loader&quot;</span><span style="color:#bfbab0;">
          }</span><span style="color:#bfbab0;">
        ]</span><span style="color:#bfbab0;">
      }</span><span style="color:#bfbab0;">
    ]</span><span style="color:#bfbab0;">
  }</span><span style="color:#bfbab0;">
}</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span></pre>
<p>Alright, let's try again.</p>
<pre style="background-color:#0f1419;">
<span style="color:#bfbab0;">&gt;yarn serve</span><span style="color:#bfbab0;">
</span></pre>
<p>And if all went well, we should now have working TypeScript support! Try changing the IMyComponentState properties or accessing a property that doesn't exist to test it out.</p>
<p>Let's make a commit:</p>
<pre style="background-color:#0f1419;">
<span style="color:#bfbab0;">&gt;git add .</span><span style="color:#bfbab0;">
&gt;git commit -m &quot;added typescript support&quot;</span><span style="color:#bfbab0;">
</span></pre>
<p><a href="https://gitlab.com/Worble/react-webpack-tutorial/commit/d161d0ba13f770407364fb576d6535a42cdc694f">You can view the commit here</a>.</p>
<h1 id="building-for-production">Building For Production</h1>
<p>So you might remember, way back when in <a href="https://www.robertclarke.tech/blog/react-webpack-tutorial/part-one/">part 1</a> that when we first built our project using Webpack, it defaulted to 'production' mode. We've made a lot of progress since then, including updating to use Webpack config files instead of typing all of our commands on the command line, so let's try and update our project so we can build in production again!</p>
<p>First, let's make a new configuration file. This is the one we'll point Webpack to whenever we want to build for production. Put it in the root of the project and call it <code>webpack.prod.js</code>. Now, we <em>could</em> copy over the contents of our current <code>webpack.config.json</code> into this one, but would be a pain to manage; if we wanted to add another filetype for example, we would need to make sure we added it in both. The <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY</a> principle suggests we should find a better way. There's probably a number of ways you could solve this problem, but we're just going to use <code>webpack-merge</code> (<a href="https://github.com/survivejs/webpack-merge">documentation</a>). This will allow us to define multiple configurations and, well, merge them together, surprisingly enough. Let's install it:</p>
<pre style="background-color:#0f1419;">
<span style="color:#bfbab0;">&gt;yarn add --dev webpack-merge</span><span style="color:#bfbab0;">
</span></pre>
<p>Now, let's refactor our <code>webpack.config.json</code> into a <code>webpack.common.json</code>. This will hold all the properties that are reused between our development and production configurations.</p>
<pre style="background-color:#0f1419;">
<span style="color:#ff7733;">const </span><span style="color:#bfbab0;">path </span><span style="color:#f29668;">= </span><span style="color:#ffb454;">require</span><span style="color:#bfbab0;">(</span><span style="color:#c2d94c;">&quot;path&quot;</span><span style="color:#bfbab0;">)</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span><span style="color:#bfbab0;">
</span><span style="font-style:italic;color:#39bae6;">module</span><span style="font-style:italic;color:#f29668;">.</span><span style="font-style:italic;color:#39bae6;">exports </span><span style="color:#f29668;">= </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
  entry</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">[</span><span style="color:#bfbab0;">
    </span><span style="color:#c2d94c;">&quot;react-hot-loader/patch&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    path</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">resolve</span><span style="color:#bfbab0;">(</span><span style="font-style:italic;color:#39bae6;">__dirname</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;src&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;index.tsx&quot;</span><span style="color:#bfbab0;">)</span><span style="color:#bfbab0;">
  ]</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
  output</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
    filename</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;main.js&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    path</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">path</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">join</span><span style="color:#bfbab0;">(</span><span style="font-style:italic;color:#39bae6;">__dirname</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;dist&quot;</span><span style="color:#bfbab0;">)</span><span style="color:#bfbab0;">
  }</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
  resolve</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
    alias</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
      </span><span style="color:#c2d94c;">&quot;react-dom&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;@hot-loader/react-dom&quot;</span><span style="color:#bfbab0;">
    }</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    extensions</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">[</span><span style="color:#c2d94c;">&quot;.tsx&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.jsx&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.ts&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.js&quot;</span><span style="color:#bfbab0;">]</span><span style="color:#bfbab0;">
  }</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
  module</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
    rules</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">[</span><span style="color:#bfbab0;">
      {</span><span style="color:#bfbab0;">
        test</span><span style="color:#bfbab0cc;">: </span><span style="color:#95e6cb;">/\.ts(x</span><span style="color:#f29668;">?</span><span style="color:#95e6cb;">)</span><span style="color:#ff7733;">$</span><span style="color:#95e6cb;">/</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
        exclude</span><span style="color:#bfbab0cc;">: </span><span style="color:#95e6cb;">/node_modules/</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
        use</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">[</span><span style="color:#bfbab0;">
          {</span><span style="color:#bfbab0;">
            loader</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;awesome-typescript-loader&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
            options</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
              useBabel</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
              babelCore</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;@babel/core&quot;</span><span style="color:#bfbab0;">
            }</span><span style="color:#bfbab0;">
          }</span><span style="color:#bfbab0;">
        ]</span><span style="color:#bfbab0;">
      }</span><span style="color:#bfbab0;">
    ]</span><span style="color:#bfbab0;">
  }</span><span style="color:#bfbab0;">
}</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span></pre>
<p>Now our <code>webpack.prod.js</code> can merge it's own configuration into common:</p>
<pre style="background-color:#0f1419;">
<span style="color:#ff7733;">const </span><span style="color:#bfbab0;">merge </span><span style="color:#f29668;">= </span><span style="color:#ffb454;">require</span><span style="color:#bfbab0;">(</span><span style="color:#c2d94c;">&quot;webpack-merge&quot;</span><span style="color:#bfbab0;">)</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span><span style="color:#ff7733;">const </span><span style="color:#bfbab0;">common </span><span style="color:#f29668;">= </span><span style="color:#ffb454;">require</span><span style="color:#bfbab0;">(</span><span style="color:#c2d94c;">&quot;./webpack.common.js&quot;</span><span style="color:#bfbab0;">)</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span><span style="color:#ff7733;">const </span><span style="color:#bfbab0;">path </span><span style="color:#f29668;">= </span><span style="color:#ffb454;">require</span><span style="color:#bfbab0;">(</span><span style="color:#c2d94c;">&quot;path&quot;</span><span style="color:#bfbab0;">)</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span><span style="color:#bfbab0;">
</span><span style="font-style:italic;color:#39bae6;">module</span><span style="font-style:italic;color:#f29668;">.</span><span style="font-style:italic;color:#39bae6;">exports </span><span style="color:#f29668;">= </span><span style="color:#ffb454;">merge</span><span style="color:#bfbab0;">(common</span><span style="color:#bfbab0cc;">, </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
  mode</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;production&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
  devtool</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;source-map&quot;</span><span style="color:#bfbab0;">
})</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span></pre>
<p>All we care about at the moment is setting our mode to &quot;production&quot; for the inbuilt changes that Webpack makes, as well as changing our source mapping mode. Now we can create something similar for development, let's call it <code>webpack.dev.js</code>:</p>
<pre style="background-color:#0f1419;">
<span style="color:#ff7733;">const </span><span style="color:#bfbab0;">merge </span><span style="color:#f29668;">= </span><span style="color:#ffb454;">require</span><span style="color:#bfbab0;">(</span><span style="color:#c2d94c;">&quot;webpack-merge&quot;</span><span style="color:#bfbab0;">)</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span><span style="color:#ff7733;">const </span><span style="color:#bfbab0;">common </span><span style="color:#f29668;">= </span><span style="color:#ffb454;">require</span><span style="color:#bfbab0;">(</span><span style="color:#c2d94c;">&quot;./webpack.common.js&quot;</span><span style="color:#bfbab0;">)</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span><span style="color:#bfbab0;">
</span><span style="font-style:italic;color:#39bae6;">module</span><span style="font-style:italic;color:#f29668;">.</span><span style="font-style:italic;color:#39bae6;">exports </span><span style="color:#f29668;">= </span><span style="color:#ffb454;">merge</span><span style="color:#bfbab0;">(common</span><span style="color:#bfbab0cc;">, </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
  mode</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;development&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
  devtool</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;eval-source-map&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
  devServer</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
    hot</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    contentBase</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">path</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">join</span><span style="color:#bfbab0;">(</span><span style="font-style:italic;color:#39bae6;">__dirname</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;dist&quot;</span><span style="color:#bfbab0;">)</span><span style="color:#bfbab0;">
  }</span><span style="color:#bfbab0;">
})</span><span style="color:#bfbab0cc;">;</span><span style="color:#bfbab0;">
</span></pre>
<p>Obviously we've seen all this before, the only difference here is that compared to production, we only care about running the dev server in development mode, so we keep this configuration in here. Now, we need to update our <code>package.json</code> scripts to point Webpack at the right configurations, which we can do with the <code>--config</code> flag:</p>
<pre style="background-color:#0f1419;">
<span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
  </span><span style="font-style:italic;color:#5c6773;">//...</span><span style="color:#bfbab0;">
  </span><span style="color:#39bae6;">&quot;scripts&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#bfbab0;">{</span><span style="color:#bfbab0;">
    </span><span style="color:#39bae6;">&quot;test&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;echo </span><span style="color:#95e6cb;">\&quot;</span><span style="color:#c2d94c;">Error: no test specified</span><span style="color:#95e6cb;">\&quot;</span><span style="color:#c2d94c;"> &amp;&amp; exit 1&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    </span><span style="color:#39bae6;">&quot;serve&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;webpack-dev-server --config webpack.dev.js --open&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    </span><span style="color:#39bae6;">&quot;dev&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;webpack --config webpack.dev.js&quot;</span><span style="color:#bfbab0cc;">,</span><span style="color:#bfbab0;">
    </span><span style="color:#39bae6;">&quot;prod&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;webpack --config webpack.prod.js&quot;</span><span style="color:#bfbab0;">
  }</span><span style="color:#bfbab0;">
  </span><span style="font-style:italic;color:#5c6773;">//...</span><span style="color:#bfbab0;">
}</span><span style="color:#bfbab0;">
</span></pre>
<p>Note that the development builds script name has changed from &quot;build&quot; to &quot;dev&quot;, just to better reflect the build it's making.</p>
<p>A handy tip for <code>webpack-dev-server</code>: keeping <code>--open</code> at the end means you can pass arguments down to it, even when calling it through yarn or npm. For example, doing <code>yarn serve firefox</code> will actually be equivalent to <code>webpack-dev-server --config webpack.dev.js --open firefox</code>, allowing you to change what browser you're testing in easily.</p>
<p>Try all these commands now and make sure they work as you expect. Congratulations, your Webpack project is now ready to built for an actual production environment!</p>
<p>Let's make a commit here:</p>
<pre style="background-color:#0f1419;">
<span style="color:#bfbab0;">&gt;git add .</span><span style="color:#bfbab0;">
&gt;git commit -m &quot;added production webpack config&quot;</span><span style="color:#bfbab0;">
</span></pre>
<p><a href="https://gitlab.com/Worble/react-webpack-tutorial/commit/3d71d4913c1b2f40cc8dc8a36b99c8a5720410ed">You can view the commit here</a></p>
<p>These tutorials are going to continue for a little bit, as we continue to customise our Webpack configuration with extra niceities, but hopefully by now the magic spookiness of Webpack should be gone, and you are confident in making your own personal configuration. I highly recommend looking at the <a href="https://webpack.js.org/plugins/">plugins section of the Webpack website</a>, finding a few that you would find useful, and trying to implement some of these yourself.</p>
<p>That's all for this time, next time we'll look at generating our <code>index.html</code> using Webpack, cache-busting and serving static files!</p>
<p><a href="https://www.robertclarke.tech/blog/react-webpack-tutorial/part-five/">Click here for Part 5!</a></p>

                            </div>
                        </div>
                        
                        
<footer class="card-footer">
    <div class="article-footer">
        <div class="columns is-multiline">
            <div class="column is-12">
                <p>
                    Published
                    
    
        <time datetime="2019-10-24">
            2019-10-24
        </time>
    

                    
    

                    
    
        
        in <a href="https://www.robertclarke.tech/categories/react-webpack-tutorial/">
            <span class="tag is-success">
                React Webpack Tutorial
            </span>
        </a>
    

                    
    
        and tagged
        
        <a href="https://www.robertclarke.tech/tags/react/">
            <span class="tag is-link">react </span>
        </a>
            
                
                    
                        ,
                    
                
            
        
        <a href="https://www.robertclarke.tech/tags/webpack/">
            <span class="tag is-link">webpack </span>
        </a>
            
                
                    
                        ,
                    
                
            
        
        <a href="https://www.robertclarke.tech/tags/babel/">
            <span class="tag is-link">babel </span>
        </a>
            
                
                    
                        and
                    
                
            
        
        <a href="https://www.robertclarke.tech/tags/typescript/">
            <span class="tag is-link">typescript </span>
        </a>
            
                
            
        
    

                </p>
            </div>
            <div class="column">
                <a class="button is-pulled-right is-info" href="/blog">Back Home</a>
            </div>
        </div>
    </div>
</footer>

                        
                    </div>
                </article>
            </div>
        </div>
    </section>
</main>


<script async type="text/javascript" src="https:&#x2F;&#x2F;www.robertclarke.tech&#x2F;search.js"></script>



	</div>
	<!-- Footer -->
	<footer class="footer">
		
<div class="columns is-tablet">
	<div class="column">
		<div class="content">
			Copyright &#169; 2020 Robert Clarke &nbsp;&nbsp;|&nbsp;&nbsp; 
			<a class="has-text-info" href="https:&#x2F;&#x2F;www.robertclarke.tech&#x2F;sitemap.xml">
				Site Map
			</a>
		</div>
	</div>
	<div class="column is-flex">
		<div class="content is-flex footer-right">
			<a aria-label="Bulma Homepage" href="https://bulma.io/" rel="noreferrer noopener" target="_blank">
				<picture>
					<source srcset="https:&#x2F;&#x2F;www.robertclarke.tech&#x2F;img&#x2F;made-with-bulma--dark.png" media="(prefers-color-scheme: dark)">
					<img alt="Made with bulma" src="https:&#x2F;&#x2F;www.robertclarke.tech&#x2F;img&#x2F;made-with-bulma.png" width="128" height="24">
				</picture>
			</a>
			<span>
				&nbsp;and <a class="has-text-info" rel="noreferrer noopener" href="https://www.getzola.org/" target="_blank">Zola</a>
			</span>
		</div>
	</div>
</div>

	</footer>
	<link rel="stylesheet" href="https:&#x2F;&#x2F;www.robertclarke.tech&#x2F;icomoon&#x2F;style.css" />
	<script async src="https:&#x2F;&#x2F;www.robertclarke.tech&#x2F;site.js"></script>
</body>

</html>